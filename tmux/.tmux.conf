############################################################
# General Settings {{{1

# Default termtype. If the rcfile sets $TERM, that overrides this value.
set -g default-terminal "tmux-256color"

# Set an override for kitty
set -ga terminal-overrides ",xterm-kitty:Tc"

# Increase scrollback buffer size
set -g history-limit 10000

# Create a new session if one does not already exist when `tmux attach` is
# executed
new-session -n $HOST

# Start the window index at 1 instead of 0
set -g base-index 1

# Start the pane index at 1 instead of 0
set -g pane-base-index 1

############################################################
# Keybindings {{{1

# Unbind the default prefix key stroke and set it to Ctrl-Space
unbind C-b
set -g prefix C-Space

# Reload the configuration inside tmux
bind r source-file ~/.tmux.conf \; display "Reloaded ~/.tmux.conf"

# Use vi keys in search mode
set-window-option -g mode-keys vi

# No escape time for vi mode
set -sg escape-time 0

# Vim-like visual copy
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "xclip -i -sel clipboard > /dev/null"
bind p run "xclip -o -sel clip | tmux load-buffer -; tmux paste-buffer"

# Horizontal split
bind h split-window -h -c "#{pane_current_path}"
# Vertical split
bind v split-window -v -c "#{pane_current_path}"
# New window
bind n new-window -c "#{pane_current_path}" \; split-window -h -c "#{pane_current_path}" \; select-pane -L

# kill current pane/window
bind-key q confirm-before kill-pane
bind-key Q confirm-before kill-window

############################################################
# Mouse bindings {{{1

# Enable mouse support
set -g mouse on

############################################################
# Visuals {{{1

############################################################
# Colors {{{2

# The nord color palette
set -g @nord0 "#2e3440"
set -g @nord1 "#3b4252"
set -g @nord2 "#434c5e"
set -g @nord3 "#4c566a"
set -g @nord4 "#d8dee9"
set -g @nord5 "#e5e9f0"
set -g @nord6 "#eceff4"
set -g @nord7 "#8fbcbb"
set -g @nord8 "#88c0d0"
set -g @nord9 "#81a1c1"
set -g @nord10 "#5e81ac"
set -g @nord11 "#bf616a"
set -g @nord12 "#d08770"
set -g @nord13 "#ebcb8b"
set -g @nord14 "#a3be8c"
set -g @nord15 "#b48ead"

set -g status-style bg=${nord1},fg=${nord4}

# Pane style
set -g pane-border-style bg=${nord0},fg=${nord1}
set -g pane-active-border-style bg=${nord0},fg=${nord9}
set -g display-panes-colour ${nord1}
set -g display-panes-active-colour ${nord9}

# Message style
set -g message-style bg=${nord2},fg=${nord8}
set -g message-command-style bg=${nord2},fg=${nord8}

# }}}2

############################################################
# Status {{{2

# Status update interval
set -g status-interval 1
set -g status on

# Layout
set -g status-justify centre

# Content left
set -g status-left "#[fg=blue,bg=black,bold]#[fg=black,bg=blue,bold]#S#[fg=blue,bg=black,bold]"

# Window list
set -g window-status-format "#[fg=white,bg=black]#I#[fg=white,bg=black,nobold,noitalics,nounderscore] #[fg=white,bg=black]#W #F"
set -g window-status-current-format "#[fg=cyan,bg=black,bold]#[fg=black,bg=cyan]#I#[fg=black,bg=cyan,nobold,noitalics,nounderscore] #[fg=black,bg=cyan]#W #F#[fg=cyan,bg=black,bold]"
set -g window-status-separator "#[fg=white,bg=black,nobold,noitalics,nounderscore]|"

# # Content right
set -g status-right "#[fg=blue,bg=black,bold]#[fg=black,bg=blue]%d.%m.%Y#[fg=black,bg=blue,nobold,noitalics,nounderscore] #[fg=black,bg=blue]%H:%M#[fg=black,bg=blue,nobold,noitalics,nounderscore] #[fg=black,bg=blue,bold]#H#[fg=blue,bg=black,bold]"

# }}}1
